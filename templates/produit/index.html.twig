{% extends 'base.html.twig' %}

{% block title %}{{'produit.index.titre'|trans}}
{% endblock %}

{% block body %}
  <div class="row">
    <div class="col">
      {% for message in app.flashes('message') %}
        <div class="alert alert-danger" role="alert">
          {{ message }}
        </div>
      {% endfor %}
      {% for info in app.flashes('info') %}
        <div class="alert alert-info" role="alert">
          {{ info }}
        </div>
      {% endfor %}
    </div>
  </div>
  <div class="row">
    <div class="col">
      <h1>{{'produit.index.titre'|trans}}</h1>
    </div>
  </div>

  <div class="row" id="table-home">
    <div class="table-responsive">
      <table class="table table-striped">
        <thead>
          <tr>
            <th scope="col">{{'produit.nom.not_blank'|trans}}</th>
            <th scope="col">Description</th>
            <th scope="col" id="prix">{{'produit.prix.not_blank'|trans}}</th>
            <th scope="col">Image</th>
            <th scope="col">Options</th>
          </tr>
        </thead>
        <tbody>
          {% for produit in produits %}
            <tr class="ligne_produit">
              <td scope="col">{{ produit.nom }}</td>
              <td>{{ produit.description }}</td>
              <td>{{ produit.prix }}
                â‚¬</td>
              <td>
                <img src="{{ vich_uploader_asset(produit, 'imageFile') }}" alt="{{'produit.alt.image'|trans}} {{ produit.nom }}"/>
              </td>
              <td>
                <a class="btn btn-secondary" href="{{ path('produit_show', {'slug': produit.slug}) }}">{{'produit.voir.fiche'|trans}}</a>
              </td>
            </tr>
          {% else %}
            <tr>
              <td colspan="5">{{'produit.liste.vide'|trans}}</td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>

  {# <a href="{ { path('produit_new') }}">Create new</a> #}
{% endblock %}
